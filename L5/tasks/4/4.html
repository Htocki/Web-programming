<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../global.css">
    <link rel="stylesheet" href="local.css">
    <title>Задание 4</title>
  </head>
  <body onload="Initialize()">
    <header>
      <div class="header_text">
        Web-программирование<br>
        Лабораторная работа 5
      </div>
    </header>
    <main>
      <div>
        <p>Список задач:</p>
        <br id="before">
        <input id="task" type="text"></p>
        <button id="button" onclick="Add()">Добавить</button>
      </div>
      <script>
      function Add() {
        let before = document.getElementById("before");
        let checkbox = document.createElement("input");
        checkbox.setAttribute("onclick", "MarkAsDone(this)");
        checkbox.type = "checkbox";
        checkbox.name = "name";
        let label = document.createElement("label");
        label.innerHTML = " " + document.getElementById("task").value + " ";
        let cross = document.createElement("span");
        cross.setAttribute("onclick", "Remove(this)");
        cross.innerHTML = "&#215;";
        let br = document.createElement("br");
        before.parentNode.insertBefore(checkbox, before);
        before.parentNode.insertBefore(label, before);
        before.parentNode.insertBefore(cross, before);
        before.parentNode.insertBefore(br, before);
      }

      function Initialize() {
        document.getElementById("task").value = "";
      }

      function MarkAsDone(checkbox) {
        checkbox.style.visibility = "hidden";
        let label = checkbox.nextSibling;
        label.style.color = "grey";
        label.style.textDecoration = "line-through";
      }

      function Remove(cross) {
        cross.previousSibling.previousSibling.remove();
        cross.previousSibling.remove();
        cross.nextSibling.remove();
        cross.remove();
      }
      </script>
    </main>
    <footer>
      <div class="footer_text">
        Задернюк В.А.<br>
        КФ-4<br>
        Вариант-4
      </div>
    </footer>
  </body>
</html>